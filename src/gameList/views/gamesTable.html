<div layout="column" layout-align="center center">
    <md-card class="game-list">
        <xs-create-game></xs-create-game>
        <md-table-container>
            <table class="game-table" md-table>
                <thead md-head>
                <tr md-row>
                    <th md-column><span>ID</span></th>
                    <th md-column><span>Name</span></th>
                    <th md-column><span>Status</span></th>
                    <th md-column>Players</th>
                    <th md-column>Winner</th>
                    <th md-column>Actions</th>
                </tr>
                </thead>

                <tbody md-body>
                <tr md-row ng-repeat="game in games">
                    <td md-cell>{{game.$id}}</td>
                    <td md-cell>{{game.name}}</td>
                    <td md-cell>{{game.status | formatGameStatus }}</td>
                    <td md-cell>
                        <span ng-repeat="player in game.players">
                            <span>{{ player.name}}{{$last ? '' : ',  '}}</span>
                        </span>
                    </td>
                    <td md-cell>{{ game.winner || '-' }}</td>
                    <td md-cell>
                        <span ng-if="canJoin(game)"><a ui-sref="gameRoom({gameId: game.$id})">JOIN</a></span>
                        <span ng-if="!canJoin(game)"> - </span>
                    </td>
                </tr>
                </tbody>
            </table>
        </md-table-container>
    </md-card>
</div>
